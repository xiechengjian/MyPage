{"version":3,"sources":["webpack:///src/components/shopping/shopping.vue","webpack:///./src/components/shopping/shopping.vue?042c","webpack:///./src/components/shopping/shopping.vue"],"names":["shopping","id","url","innerText","color","payload","price","storage","activeStyleUrl","name","style","item","shopping_shopping","render","_vm","this","_h","$createElement","_c","_self","staticClass","undefined","product","attrs","src","alt","xq_big","setting","_v","type","_s","desc","staticStyle","line-height","toFixed","_l","key","class","active","on","click","$event","changeStyle","changePrice","width","addCart","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/7.b142ec280009b2483342.js","sourcesContent":["<template>\r\n    <div class=\"continer\">\r\n            <!-- <Spin fix id=\"loading\">\r\n                <Icon type=\"load-c\" size=38 class=\"demo-spin-icon-load\"></Icon>\r\n                <div>Loading</div>\r\n            </Spin> -->\r\n            <div class=\"row\" v-if=\"product!=undefined\">\r\n                <div class=\"product col-md-offset-2 col-sm-offset-2 col-xs-offset-2 col-xs-12 col-md-8 col-sm-8 \">\r\n                    <div class=\"row\">\r\n                        <div class=\"img-responsive gallery col-md-2 col-sm-2 col-xs-2 MagicZoom MagicThumb\">\r\n                            <img :src=\"product.activeStyleUrl\" alt=\"\" xq_big=\"true\" id=\"main_img\" class=\"main_img agicZoom MagicThumb\" setting='{\"pwidth\":400,\"scale\":2,\"pheight\":400,\"margin_top\":60,\"margin_left\":-20}'/>\r\n                            <!-- <div class=\"img-mask\"></div> -->\r\n                            <Icon type=\"search\" class=\"search\"></Icon>\r\n                        </div>\r\n                         <div class=\"detail col-md-6 col-sm-6 col-xs-8\">\r\n                            <h3 class=\"name\"><span>{{product.name}}</span></h3>\r\n                            <br>\r\n                            <div class=\"options\">\r\n                            <dl class=\"dl-horizontal\">\r\n                                <dt>描述：</dt>\r\n                                <dd><span>{{product.desc}}</span></dd>\r\n                            </dl>\r\n                            <dl class=\"dl-horizontal\">\r\n                                <dt style=\"line-height: 30px;\">价格：</dt>\r\n                                <dd><span>￥</span><span class=\"price\">{{product.price.toFixed(2)}}</span></dd>\r\n                            </dl>\r\n                            <dl class=\"dl-horizontal\">\r\n                                <dt>外观：</dt>\r\n                                <dd>\r\n                                    <ul class=\"style\">\r\n                                    <li v-for=\"style in product.style\" :key='style.color' \r\n                                        @click=\"changeStyle(product.id,style.url,$event)\"\r\n                                        :class=\"{active: product.activeStyleUrl == style.url}\"><span>{{style.color}}</span></li>\r\n                                    </ul>\r\n                                </dd>\r\n                            </dl>\r\n                            <dl class=\"dl-horizontal\">\r\n                                <dt>容量：</dt>\r\n                                <dd>\r\n                                    <ul class=\"storage\">\r\n                                    <li v-for=\"(price,key) in product.storage\" :key='key'\r\n                                        @click=\"changePrice(product.id,price)\"\r\n                                        :class=\"{active: product.price == price}\"><span>{{key}}</span></li>\r\n                                    </ul>\r\n                                </dd>\r\n                            </dl>\r\n                            <Button type=\"error\" style=\"width: 250px;\" @click=\"addCart()\"><span class=\"glyphicon glyphicon-shopping-cart\"></span>加入购物车</Button>\r\n                         </div>\r\n                         </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapActions } from \"vuex\";\r\nimport $ from \"jQuery\";\r\nimport MA from \"../common/magnifying.js\";\r\n// import MZP from \"../common/mzp-packed.js\";\r\nexport default {\r\n    data() {\r\n        return {\r\n            currnetStyle: {\r\n                color: null,\r\n                stage: null\r\n            }\r\n        };\r\n    },\r\n    computed: {\r\n        product() {\r\n            // console.log();\r\n            let id = this.$router.history.current.params.id;\r\n            // console.log(Number(id));\r\n            return this.$store.getters.productById(Number(id));\r\n        }\r\n    },\r\n    beforeCreate() {\r\n        this.$store.dispatch(\"getAllProducts\");\r\n        document.getElementById('loading').style = \"display:flex\";\r\n        // this.$Spin.show();\r\n    },\r\n    created() {\r\n        // console.log(MZP);\r\n\r\n        // this.product = this.$store.getters.productById(1);\r\n    },\r\n    mounted() {\r\n        document.getElementById('loading').style = \"display:none\";\r\n        // this.$Spin.hide();\r\n        // console.log(this.product);\r\n        // console.log(MA.XQ_bigimg);\r\n        // console.log(this.$el);\r\n        // console.log($(\"img[xq_big='true']\"));\r\n        setTimeout(() => {\r\n            MA.XQ_bigimg.init($(\"img[xq_big='true']\"));\r\n        }, 500);\r\n        // setTimeout(() => {\r\n        //     MZP.MagicZoom_findZooms();\r\n        // }, 2000);\r\n    },\r\n    methods: {\r\n        changeStyle(id, url, event) {\r\n            let payload = {\r\n                id: id,\r\n                url: url\r\n            };\r\n            // this.$set(this.currnetStyle,'color',color);\r\n            let color = $(\".style\").children(\".active\")[0].innerText;\r\n            this.currnetStyle.color = color;\r\n            this.$store.commit(\"setProductActiveUrl\", payload);\r\n        },\r\n        changePrice(id, price) {\r\n            let payload = {\r\n                id: id,\r\n                price: price\r\n            };\r\n            let storage = $(\".storage\").children(\".active\")[0].innerText;\r\n            this.currnetStyle.storage = storage;\r\n            this.$store.commit(\"setProductPrice\", payload);\r\n        },\r\n        addCart() {\r\n            let color = $(\".style\").children(\".active\")[0].innerText;\r\n            let storage = $(\".storage\").children(\".active\")[0].innerText;\r\n            let payload = {\r\n                id: this.product.id,\r\n                color: color,\r\n                storage: storage\r\n            };\r\n            let style = this.$store.getters.productByStyle(payload);\r\n            style.imgUrl = this.product.activeStyleUrl;\r\n            // this.currnetStyle = this.$store.getters.productPriceById(payload);\r\n            let item = {\r\n                id: this.product.id,\r\n                name: this.product.name,\r\n                style: style\r\n            };\r\n            console.log(item);\r\n            this.$store.dispatch(\"addProductToCart\", item);\r\n            // router.push('cart')\r\n            this.$router.push(\"/cart\");\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.continer {\r\n  position: relative;\r\n  padding-top: 5%;\r\n  padding-right: 15px;\r\n  padding-left: 15px;\r\n  margin-right: auto;\r\n  margin-left: auto;\r\n  .img-responsive {\r\n    width: 450px;\r\n    height: 450px;\r\n    margin-left: -10%;\r\n    .search {\r\n      position: absolute;\r\n      bottom: -15px;\r\n      right: 10%;\r\n      font-size: 30px;\r\n      /* color: #eee; */\r\n      background-color: #afafaf;\r\n      color: #ffffffff;\r\n      line-height: 30px;\r\n      width: 30px;\r\n      height: 30px;\r\n      text-align: center;\r\n    }\r\n    img {\r\n      cursor: move;\r\n    }\r\n    .img-mask {\r\n      width: 200px;\r\n      height: 200px;\r\n      top: 250px;\r\n      left: 200px;\r\n      position: absolute;\r\n      border: 1px solid #aaa;\r\n      opacity: 0.5;\r\n      background: 50% top no-repeat #fede4f;\r\n    }\r\n  }\r\n  .dl-horizontal {\r\n    .price {\r\n      color: #e4393c;\r\n      font-family: \"microsoft yahei\";\r\n      font-size: 22px;\r\n    }\r\n  }\r\n  .dl-horizontal dd {\r\n    margin-left: 50px;\r\n  }\r\n  .dl-horizontal dt {\r\n    width: unset;\r\n  }\r\n  .dl-horizontal li {\r\n    float: left;\r\n    margin-right: 4px;\r\n    padding: 0 13px;\r\n    border: 1px solid #ccc;\r\n    line-height: 32px;\r\n    cursor: pointer;\r\n    line-height: 30px;\r\n    margin-bottom: 4px;\r\n  }\r\n  .dl-horizontal ul .active {\r\n    border: 1px solid #e4393c;\r\n  }\r\n  .dl-horizontal li:hover {\r\n    border: 1px solid #e4393c;\r\n  }\r\n}\r\n.demo-spin-icon-load {\r\n  animation: ani-demo-spin 1s linear infinite;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/shopping/shopping.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"continer\"},[(_vm.product!=undefined)?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"product col-md-offset-2 col-sm-offset-2 col-xs-offset-2 col-xs-12 col-md-8 col-sm-8 \"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"img-responsive gallery col-md-2 col-sm-2 col-xs-2 MagicZoom MagicThumb\"},[_c('img',{staticClass:\"main_img agicZoom MagicThumb\",attrs:{\"src\":_vm.product.activeStyleUrl,\"alt\":\"\",\"xq_big\":\"true\",\"id\":\"main_img\",\"setting\":\"{\\\"pwidth\\\":400,\\\"scale\\\":2,\\\"pheight\\\":400,\\\"margin_top\\\":60,\\\"margin_left\\\":-20}\"}}),_vm._v(\" \"),_c('Icon',{staticClass:\"search\",attrs:{\"type\":\"search\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"detail col-md-6 col-sm-6 col-xs-8\"},[_c('h3',{staticClass:\"name\"},[_c('span',[_vm._v(_vm._s(_vm.product.name))])]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('div',{staticClass:\"options\"},[_c('dl',{staticClass:\"dl-horizontal\"},[_c('dt',[_vm._v(\"描述：\")]),_vm._v(\" \"),_c('dd',[_c('span',[_vm._v(_vm._s(_vm.product.desc))])])]),_vm._v(\" \"),_c('dl',{staticClass:\"dl-horizontal\"},[_c('dt',{staticStyle:{\"line-height\":\"30px\"}},[_vm._v(\"价格：\")]),_vm._v(\" \"),_c('dd',[_c('span',[_vm._v(\"￥\")]),_c('span',{staticClass:\"price\"},[_vm._v(_vm._s(_vm.product.price.toFixed(2)))])])]),_vm._v(\" \"),_c('dl',{staticClass:\"dl-horizontal\"},[_c('dt',[_vm._v(\"外观：\")]),_vm._v(\" \"),_c('dd',[_c('ul',{staticClass:\"style\"},_vm._l((_vm.product.style),function(style){return _c('li',{key:style.color,class:{active: _vm.product.activeStyleUrl == style.url},on:{\"click\":function($event){_vm.changeStyle(_vm.product.id,style.url,$event)}}},[_c('span',[_vm._v(_vm._s(style.color))])])}))])]),_vm._v(\" \"),_c('dl',{staticClass:\"dl-horizontal\"},[_c('dt',[_vm._v(\"容量：\")]),_vm._v(\" \"),_c('dd',[_c('ul',{staticClass:\"storage\"},_vm._l((_vm.product.storage),function(price,key){return _c('li',{key:key,class:{active: _vm.product.price == price},on:{\"click\":function($event){_vm.changePrice(_vm.product.id,price)}}},[_c('span',[_vm._v(_vm._s(key))])])}))])]),_vm._v(\" \"),_c('Button',{staticStyle:{\"width\":\"250px\"},attrs:{\"type\":\"error\"},on:{\"click\":function($event){_vm.addCart()}}},[_c('span',{staticClass:\"glyphicon glyphicon-shopping-cart\"}),_vm._v(\"加入购物车\")])],1)])])])]):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-1c3306b2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.0@vue-loader/lib/selector.js?type=template&index=0!./src/components/shopping/shopping.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1c3306b2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector?type=styles&index=0!./shopping.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector?type=script&index=0!./shopping.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1c3306b2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector?type=template&index=0!./shopping.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1c3306b2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/shopping/shopping.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}